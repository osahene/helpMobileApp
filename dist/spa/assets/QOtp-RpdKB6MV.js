import{Q as A}from"./QInput-DKAh1INl.js";import{r as d,c as f,w as B,$ as U,l as c,D as m,G as i,F as w,E as D,m as L,a0 as b,Y as j}from"./index-DVs4Rc6n.js";const F={id:"q-app",style:{width:"max-content"}},q={class:"q-pa-md"},K={class:"row q-gutter-x-sm justify-center"},Q={__name:"QOtp",props:{inputLength:{type:Number,default:6},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(v,{emit:h}){const p=v,r=h,n=d([]),l=d(Array(p.inputLength).fill("")),s=f(()=>p.inputLength),g=f(()=>{const e=l.value.filter(t=>t);return s.value!==e.length?"":e.join("")});B(g,e=>{e&&(r("update:modelValue",e),console.log(e))}),U(()=>{n.value=[]});const y=(e,t)=>{e&&(n.value[t]=e)},u=e=>{e>=0&&e<s.value?n.value[e]?.select():e>=s.value&&n.value[e-1]?.blur()},_=(e,t)=>{l.value[t]=e,r("update:modelValue",l.value.join("")),e&&u(t+1)},V=e=>{const t=e.clipboardData.getData("text").slice(0,s.value);l.value=Array.from(t).concat(Array(s.value-t.length).fill("")),r("update:modelValue",l.value.join("")),j(()=>{u(t.length)})},k=(e,t)=>{const a=e.key;["Tab","Shift","Meta","Control","Alt","Delete"].includes(a)||(a==="ArrowLeft"||a==="Backspace"?u(t-1):a==="ArrowRight"&&u(t+1))};return(e,t)=>(c(),m("div",null,[i("div",F,[i("div",q,[i("div",K,[(c(!0),m(w,null,D(s.value,a=>(c(),L(A,b({outlined:"",modelValue:l.value[a-1],"onUpdate:modelValue":o=>l.value[a-1]=o,ref_for:!0},e.$attrs,{onKeyup:o=>k(o,a-1),"onUpdate:modelValue":o=>_(o,a-1),onPaste:V,key:a,ref_for:!0,ref:o=>y(o,a-1),maxlength:"1","input-class":"text-center",style:{width:"6ch"}}),null,16,["modelValue","onUpdate:modelValue","onKeyup"]))),128))])])])]))}};export{Q as _};
